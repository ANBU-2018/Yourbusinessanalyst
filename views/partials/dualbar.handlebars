<div id="quantitySold" hidden="true">{{ quantitySold}}</div>
<div id="quantityBought" hidden="true">{{ quantityBought }}</div>
<div id="labels" hidden="true">{{label }}</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<h3 class=" text-dark text-black text-center"> Bar Graph Showing Sold Stock And Bought Stock Over Different Months</h3>
<canvas id="chart" class="mb-4">
  <caption>
    Stocks in Storage
  </caption>
</canvas>
<div>
  
</div>
<script>
  const quantitySold = document
    .getElementById('quantitySold')
    .innerText.trim()
    .split(',');
  const quantityBought = document
    .getElementById('quantityBought')
    .innerText.trim()
    .split(',');
const label = document
    .getElementById('labels')
    .innerText.trim()
    .split(',');
  var chart = document.getElementById('chart').getContext('2d');
  var lineChart = new Chart(chart, {
    // The type of chart we want to create
    type: 'bar',

    // The data for our dataset
    data: {
      labels: label,
      datasets: [
        {
          label: 'Sold Quantity',
          borderColor: 'rgb(0, 0, 0)',
          data: quantitySold,
          backgroundColor: [
            'rgb(226, 45, 44)'
            
          ],
          borderWidth: 3
        },
        {
          label: 'Bought Quantity',
          borderColor: 'rgb(0, 0, 0)',
          data: quantityBought,
          backgroundColor: [
                'rgb(102, 181, 19)'           
          ],
          borderWidth: 3
        }
      ]
    },

    // Configuration options go here
    options: {
      scales: {
        xAxes: [
          {
            scaleLabel:{
              display:true,
              labelString:`Date`
            }
          }
        ],
        yAxes:[{
            ticks: {
              beginAtZero: true
            },
          scaleLabel:{
            display:true,
            labelString:`Quantity of Stocks`
          }
        }]
      },
      legend: {
        position: 'right',
        labels: {
          fontSize: '14',
          fontColor: 'crimson'
        }
      },
      tooltips: {
        mode: 'nearest'
      }
    }
  });
</script>
