<div hidden id="data">
  {{ data }}
</div>

<div hidden id="data1">
  {{ data1 }}
</div>
<div hidden id="labels">
  {{ labels }}
</div>
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment-with-locales.min.js"
  integrity="sha256-AdQN98MVZs44Eq2yTwtoKufhnU+uZ7v2kXnD5vqzZVo="
  crossorigin="anonymous"
></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

<canvas id="profitChart" class="mb-4"></canvas>
<script>
  var data = document
    .getElementById('data')
    .innerText.trim()
    .split(',');
  var data1 = document
    .getElementById('data1')
    .innerText.trim()
    .split(',');
  var labels = document
    .getElementById('labels')
    .innerText.trim()
    .split(',');
  console.log(data, data1, labels);
  var chart = document.getElementById('profitChart').getContext('2d');
  var lineChart = new Chart(chart, {
    // The type of chart we want to create
    type: 'line',
    // The data for our dataset
    data: {
      labels: labels,
      datasets: [
        {
          label: 'Estimated Profit',
          borderColor: 'rgb(0, 255, 0)',
          data: data1,
          borderWidth: 3
        },
        {
          label: 'Stocks',
          borderColor: 'rgb(20, 100, 100)',
          data: data,
          borderWidth: 3
        }
      ]
    },

    // Configuration options go here
    options: {
      scales: {
        yAxes: [
          {
            ticks: {
              beginAtZero: true
            }
          }
        ]
      },
      legend: {
        position: 'right',
        labels: {
          fontSize: '14',
          fontColor: 'crimson'
        }
      },
      tooltips: {
        mode: 'nearest'
      },
      hover: {
        mode: 'nearest',
        intersect: true
      }
    }
  });
</script>
